<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/index.css" rel="stylesheet">
    <script src="js/jquery-3.6.0.min.js"></script>
    <title>EveryDo</title>
</head>

<body>
    <div class=" w-screen h-screen flex flex-col">

        <div class="h-full overflow-y-auto">


            <div class="page home">
                <h1 class=" font-bold text-2xl text-niceBlue m-7">Hello, Joni!</h1>

                <!-- today -->
                <div>
                    <span class=" text-niceBlack items-start flex mx-7 font-bold text-xl">Today! <span
                            class="pl-2 text-sm">(3)</span></span>

                    <div class=" py-4 overflow-x-auto">

                        <div class=" px-5 flex TodayTaskSection">

                            <button class=" taskBtn">
                                <span class=" taskBtnCategory">School</span>
                                <div class=" taskBtnName">Tugas
                                    Dari
                                    Bu Guru</div>
                                <span class="  taskBtnDate">
                                    <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                                </span>
                            </button>





                            <!-- pelengkap -->
                            <div class="pr-6">
                            </div>







                        </div>
                    </div>
                </div>

                <!-- to Do task -->
                <div>
                    <span class=" text-niceBlack items-start flex mx-7 font-bold text-xl">To Do <span
                            class="pl-2 text-sm">(3)</span></span>

                    <div class=" py-4 overflow-x-auto">

                        <div class=" px-5 flex ToDoTaskSection">

                            <button class=" taskBtn">
                                <span class=" taskBtnCategory">School</span>
                                <div class=" taskBtnName">Tugas
                                    Dari
                                    Bu Guru</div>
                                <span class="  taskBtnDate">
                                    <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                                </span>
                            </button>


                            <button class=" taskBtn">
                                <span class=" taskBtnCategory">School</span>
                                <div class=" taskBtnName">Tugas
                                    Dari
                                    Bu Guru</div>
                                <span class="  taskBtnDate">
                                    <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                                </span>
                            </button>



                            <!-- pelengkap -->
                            <div class="pr-6">
                            </div>







                        </div>
                    </div>
                </div>

                <!-- hisory -->
                <div>
                    <span class=" text-niceBlack items-start flex mx-7 font-bold text-xl">History <span
                            class="pl-2 text-sm">(3)</span></span>

                    <div class=" py-4 overflow-x-auto">

                        <div class=" px-5 flex HistoryTaskSection">

                            <button class=" taskBtn">
                                <span class=" taskBtnCategory">School</span>
                                <div class=" taskBtnName">Tugas
                                    Dari
                                    Bu Guru</div>
                                <span class="  taskBtnDate">
                                    <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                                </span>
                            </button>


                            <button class=" taskBtn">
                                <span class=" taskBtnCategory">School</span>
                                <div class=" taskBtnName">Tugas
                                    Dari
                                    Bu Guru</div>
                                <span class="  taskBtnDate">
                                    <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                                </span>
                            </button>







                            <!-- pelengkap -->
                            <div class="pr-6">
                            </div>







                        </div>
                    </div>
                </div>

            </div>

            <div class="page mytask flex flex-col">
                <div class="px-6 pb-6 pt-10 w-full bg-white">
                    <input type="text" class=" p-2 rounded-lg w-full border-2" value="111">
                </div>
                <div class="flex flex-wrap px-4 justify-center overflow-y-auto pb-3">
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>
                    <button class=" taskBtn">
                        <span class=" taskBtnCategory">School</span>
                        <div class=" taskBtnName">Tugas
                            Dari
                            Bu Guru</div>
                        <span class="  taskBtnDate">
                            <div class="taskBtnCircle bg-niceRed "></div> till 28 Aug 2021
                        </span>
                    </button>


                </div>





            </div>
            <div class="page profile">
                <div class="h-full overflow-y-auto">
                    <div class=" flex justify-between m-6">
                        <button>
                            <img src="icons/back-24px.svg" alt="">
                        </button>
                    </div>
                    
                    <div class="m-7 ">
                        <img src="img/jokowi.jpg" alt="foto-profile" class="mx-auto h-40 w-40 rounded-full">    
                    </div>
                    <div class=" font-bold text-2xl text-niceBlue mx-7 text-center">Fini Charista</div>
                    <div class="m-7 ">
                        <span class="font-bold text-gray-300">Name</span>
                        <input type="text" class=" w-full border border-niceBlack p-2 rounded-xl mt-2" name="name" placeholder="Your Name" required>
                    </div>
                    <div class="m-7 ">
                        <span class="font-bold text-gray-300">Email</span>
                        <input type="email" class=" w-full border border-niceBlack p-2 rounded-xl mt-2" name="email" placeholder="ex: youremail@gmail.com" required>
                    </div>
                    <div class="m-7 ">
                        <span class="font-bold text-gray-300">Email</span>
                        <input type="password" class=" w-full border border-niceBlack p-2 rounded-xl mt-2" name="password" placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;" required>
                    </div>
                    <div class="mx-7 mb-4">
                        <span class="font-bold text-gray-300">Re-Type Password</span>
                        <input type="password" class=" w-full border border-niceBlack p-2 rounded-xl mt-2" name="repassword" placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;" required>
                    </div>
                    <div class="mt-7 mx-7">
                        <button class="mt-4 py-4 bg-niceBlue text-white font-bold h-full w-full rounded-2xl">Save Changes</button>
                    </div>
                    <div class="mx-7 pb-6">
                        <button class="mt-4 py-4 bg-gray-100 text-blue-700 font-bold h-full w-full rounded-2xl">Logout</button>
                    </div>
        
        
                </div>
            </div>


        </div>

        <button class=" absolute bottom-28 right-5 addBtn" onclick="GoToAdd()">
            <img src="icons/add_task-44px.svg" alt="">
        </button>

        <div class=" h-bar w-full flex justify-center items-center space-x-2 text-gray-400 shadow-bar">
            <button onclick="GoToPage(0)"
                class="btnhome pageBtn flex flex-col items-center space-y-2 font-medium text-sm px-5 ">
                <img class=" w-5 h-5 pageIcon iconhome" src="icons/home.svg" alt="home">
                <span>Home</span>
            </button>
            <button onclick="GoToPage(1)"
                class="btnmytask pageBtn flex flex-col items-center space-y-2 font-medium text-sm px-5">
                <img class=" w-5 h-5 pageIcon iconmytask" src="icons/mytask.svg" alt="mytask">
                <span>My Task</span>
            </button>
            <button onclick="GoToPage(2)"
                class="btnprofile pageBtn flex flex-col items-center space-y-2 font-medium text-sm px-5">
                <img class=" w-5 h-5 pageIcon iconprofile" src="icons/profile.svg" alt="profile">
                <span>Profile</span>
            </button>

        </div>

    </div>
</body>

<script>
    var pages = ["home", "mytask", "profile"]
    function GoToPage(iid) {
        $(".page").addClass(" hidden");
        $("." + pages[iid]).removeClass(" hidden");

        $(".pageBtn").removeClass("text-niceBlue");
        $(".btn" + pages[iid]).addClass("text-niceBlue");

        if (iid === 2) {
            $(".addBtn").addClass("hidden");
        } else {
            $(".addBtn").removeClass("hidden");
        }

        ///
        //pages.forEach((i) => {
        //    $(".icon" + i).attr("src", "icons/" + i + ".svg");
        //});

        ///$('.icon' + pages[iid]).attr("src", "icons/" + pages[iid] + "-active.svg");

    }
    GoToPage(0)
    var myTask = JSON.parse(localStorage.getItem("myTask"));
    function GoToAdd() {
        window.location.href = "task.html"
    }


    function buildTaskBtn(data) {

        let date = new Date(data.EndDate);
        date.setHours(0, 0, 0, 0);
        let today = new Date();
        today.setHours(0, 0, 0, 0);

        let taskBtn = $("<button>").addClass("taskBtn");
        let taskBtnCategory = $("<span>").addClass("taskBtnCategory");
        taskBtnCategory.append(data.TaskCategory);
        taskBtn.append(taskBtnCategory);

        let taskBtnName = $("<div>").addClass("taskBtnName");
        taskBtnName.append(data.TaskName);
        taskBtn.append(taskBtnName);

        let section = 0;

        let taskBtnDate = $("<span>").addClass("taskBtnDate");
        let taskBtnCircle = $("<div>").addClass("taskBtnCircle");
        if (date.getTime() === today.getTime()) {
            taskBtnCircle.addClass("bg-niceRed");
        } else if (date.getTime() > today.getTime()) {
            taskBtnCircle.addClass("bg-niceGreen");
            section = 1;
        } else {
            taskBtnCircle.addClass("bg-niceBlue");
            section = 2;
        }
        taskBtnDate.append(taskBtnCircle);
        taskBtnDate.append(date.toDateString());
        taskBtn.append(taskBtnDate);

        return { task: taskBtn, section: section };





    }

    //make task
    let t = [];
    $(".TodayTaskSection").empty();
    $(".ToDoTaskSection").empty();
    $(".HistoryTaskSection").empty();
    myTask.forEach(dt => {
        let task = buildTaskBtn(dt);


        console.log(task.section)
        switch (task.section) {
            case 0:
                $(".TodayTaskSection").append(task.task);
                break;
            case 1:
                $(".ToDoTaskSection").append(task.task);
                break;
            case 2:
                $(".HistoryTaskSection").append(task.task);
                break;
        }

    })


</script>

</html>